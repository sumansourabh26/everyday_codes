import java.io.File;
import java.io.FileWriter;
import java.io.IOException;

import org.dom4j.Document;
import org.dom4j.DocumentHelper;
import org.dom4j.Element;
import org.dom4j.io.SAXReader;
import org.dom4j.io.XMLWriter;

class Foo {

    public Document createDocument() {
        Document document = DocumentHelper.createDocument();
        Element root = document.addElement( "root" );

        Element author1 = root.addElement( "author" )
            .addAttribute( "name", "James" )
            .addAttribute( "location", "UK" )
            .addText( "James Strachan" );
        
        Element author2 = root.addElement( "author" )
            .addAttribute( "name", "Bob" )
            .addAttribute( "location", "US" )
            .addText( "Bob McWhirter" );

        return document;
    }
}


public class trial102 {

	public static void main(String[] args) throws IOException {
		// TODO Auto-generated method stub
		SAXReader reader = new SAXReader();
		Document document = reader.read("foo.xml");
		Foo dFoo = new Foo();
		Document doc = dFoo.createDocument();
		
		//doc.selectNodes("root");
		System.out.println(doc.selectNodes("root").size());
		XMLWriter outXmlWriter = new XMLWriter(
				new FileWriter( new File( "foo.xml" )));
		
		outXmlWriter.write(doc);
		outXmlWriter.close();
		


	}

}
